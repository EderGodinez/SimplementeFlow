<p-toast></p-toast>
<div class="flex flex-column h-full w-full mt-4 ml-8">
  <!-- personal data -->
    <h1>Datos personales</h1>
    <hr>
    <form [formGroup]="UserDataForm">
      <!-- names  and lastnames  -->
      <div class="formgrid grid">
        <div class="field col">
          <div class="flex flex-column gap-2">
            <label htmlFor="username">Nombres</label>
            <input pInputText id="username" aria-describedby="username-help" formControlName="names" [ngClass]="{'ng-invalid ng-dirty':IsInvalidField('names',UserDataForm)}" />
            <small id="username-help">Ingresa tu nombre.</small>
            <small *ngIf="IsInvalidField('names',UserDataForm)" class="text-danger font-medium">{{GetMessageError('names',UserDataForm)|PatternError:"names"}}</small>
        </div>
        </div>
        <div class="field col">
          <div class="flex flex-column gap-2">
            <label htmlFor="username">Apellidos</label>
            <input pInputText id="username" aria-describedby="username-help" formControlName="lastnames" [ngClass]="{'ng-invalid ng-dirty':IsInvalidField('lastnames',UserDataForm)}"/>
            <small id="username-help">Ingresa tus apellidos.</small>
            <small *ngIf="IsInvalidField('lastnames',UserDataForm)" class="text-danger font-medium">{{GetMessageError('lastnames',UserDataForm)|PatternError:"lastnames"}}</small>
        </div>
        </div>
      </div>
      <!-- phone and email -->
      <div class="formgrid grid">
        <div class="field col">
          <div class="flex flex-column gap-2">
            <label htmlFor="username">Numero de telefono</label>
            <p-inputMask mask="999-999-9999" placeholder="(999) 999-9999" [ngClass]="{'ng-invalid ng-dirty':IsInvalidField('phone',UserDataForm)}" formControlName="phone"  [style]="{'width':'100%'}" ></p-inputMask>
            <small id="username-help">Ingresa tu numero de telefono.</small>
            <small *ngIf="IsInvalidField('phone',UserDataForm)" class="text-danger font-medium">{{GetMessageError('phone',UserDataForm)}}</small>
        </div>
        </div>
        <div class="field col">
          <div class="flex flex-column gap-2">
            <label htmlFor="username">Correo</label>
            <input type="text" pinputtext="" [placeholder]="UserDataForm.controls['email'].value"  class="p-inputtext p-component p-element" [disabled]="true" >
            <small id="username-help">Es un campo unicamente informativo</small>
        </div>
        </div>
      </div>


  <!-- shipping data -->
  <div formGroupName="data_Address">
    <h1>Datos de envio</h1>
    <hr>
    <div class="formgrid grid">
      <div class="field col">
        <div class="flex flex-column gap-2">
          <label htmlFor="Street">Calle</label>
          <input pInputText aria-describedby="username-help" formControlName="Street" [ngClass]="{'ng-invalid ng-dirty':IsInvalidField('Street',DataAddressForm)}" />
          <small id="street-help">Ingresa la calle en de direccion de envio</small>
          <small *ngIf="IsInvalidField('Street',DataAddressForm)" class="text-danger font-medium">{{GetMessageError('Street',DataAddressForm)|PatternError:"street"}}</small>
      </div>
      </div>
      <div class="field col">
        <div class="flex flex-column gap-2">
          <label htmlFor="Number">Numero</label>
          <input pInputText aria-describedby="Number-help" formControlName="number" [ngClass]="{'ng-invalid ng-dirty':IsInvalidField('number',DataAddressForm)}"/>
          <small id="username-help">Ingrese numero y de ser necesario extencion</small>
          <small *ngIf="IsInvalidField('number',DataAddressForm)" class="text-danger font-medium">{{GetMessageError('number',DataAddressForm)|PatternError:"number"}}</small>
      </div>
      </div>
      <div class="field col">
        <div class="flex flex-column gap-2">
          <label htmlFor="PostalCode">Codigo postal</label>
          <input pInputText aria-describedby="PostalCode-help" formControlName="postal_Code" [ngClass]="{'ng-invalid ng-dirty':IsInvalidField('postal_Code',DataAddressForm)}"/>
          <small id="username-help">Codigo postal <a href="https://www.correosdemexico.gob.mx/SSLServicios/ConsultaCP/Descarga.aspx" target="_blank" rel="noopener noreferrer">buscar codigo</a></small>
          <small *ngIf="IsInvalidField('postal_Code',DataAddressForm)" class="text-danger font-medium">{{GetMessageError('postal_Code',DataAddressForm)}}</small>
      </div>
      </div>
    </div>
    <div class="formgrid grid">
      <div class="field col">
        <div class="flex flex-column gap-2">
          <label htmlFor="Cologne">Colonia</label>
          <input pInputText id="Cologne" aria-describedby="Cologne-help" formControlName="Cologne" [ngClass]="{'ng-invalid ng-dirty':IsInvalidField('Cologne',DataAddressForm)}"/>
          <small id="Cologne-help">Ingrese colonia de envio.</small>
          <small *ngIf="IsInvalidField('Cologne',DataAddressForm)" class="text-danger font-medium">{{GetMessageError('Cologne',DataAddressForm)|PatternError:"cologne"}}</small>
      </div>
      </div>
      <div class="field col">
        <div class="flex flex-column gap-2">
          <label htmlFor="State">Estado</label>
          <input pInputText id="State" aria-describedby="State-help" formControlName="State" [ngClass]="{'ng-invalid ng-dirty':IsInvalidField('State',DataAddressForm)}"/>
          <small id="State-help">Ingrese estado de envio.</small>
          <small *ngIf="IsInvalidField('State',DataAddressForm)" class="text-danger font-medium">{{GetMessageError('State',DataAddressForm)}}</small>
      </div>
      </div>
      <div class="field col">
    <div class="flex flex-column gap-2">
      <label htmlFor="State">Ciudad</label>
      <input pInputText id="City" aria-describedby="City-help" formControlName="City" [ngClass]="{'ng-invalid ng-dirty':IsInvalidField('City',DataAddressForm)}"/>
      <small id="City-help">Ingresa ciudad o pueblo de envio.</small>
      <small *ngIf="IsInvalidField('City',DataAddressForm)" class="text-danger font-medium">{{GetMessageError('City',DataAddressForm)}}</small>
  </div>
      </div>
    </div>
  </div>
  <div class="flex flex-row-reverse">
    <p-button (onClick)="UpdateUserData()" [disabled]="!UserDataForm.valid" >Guardar cambios</p-button>
  </div>
</form>
</div>
